<ion-content fullscreen class="register-page">
  <!-- Logo afuera del container para que quede pegado arriba -->
  <img src="assets/logo/white.png" alt="SkillTrack Logo" class="logo" />

  <div class="container">
    <h1 class="title">Create Your Account</h1>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
      <ion-item lines="full" class="input-item" [class.ion-focused]="username.touched && username.invalid">
        <ion-label position="floating">Username</ion-label>
        <ion-input type="text" formControlName="username"></ion-input>
      </ion-item>
      <div *ngIf="username.touched && username.invalid" class="error-message">
        <div *ngIf="username.errors?.['required']">Username is required</div>
        <div *ngIf="username.errors?.['minlength']">Username must be at least 3 characters</div>
      </div>

      <ion-item lines="full" class="input-item" [class.ion-focused]="email.touched && email.invalid">
        <ion-label position="floating">Email</ion-label>
        <ion-input type="email" formControlName="email"></ion-input>
      </ion-item>
      <div *ngIf="email.touched && email.invalid" class="error-message">
        <div *ngIf="email.errors?.['required']">Email is required</div>
        <div *ngIf="email.errors?.['email']">Enter a valid email</div>
      </div>

      <ion-item lines="full" class="input-item" [class.ion-focused]="password.touched && password.invalid">
        <ion-label position="floating">Password</ion-label>
        <ion-input type="password" formControlName="password"></ion-input>
      </ion-item>
      <div *ngIf="password.touched && password.invalid" class="error-message">
        <div *ngIf="password.errors?.['required']">Password is required</div>
        <div *ngIf="password.errors?.['minlength']">Password must be at least 6 characters</div>
      </div>

      <ion-item lines="full" class="input-item" [class.ion-focused]="confirmPassword.touched && (confirmPassword.invalid || passwordMismatch)">
        <ion-label position="floating">Confirm Password</ion-label>
        <ion-input type="password" formControlName="confirmPassword"></ion-input>
      </ion-item>
      <div *ngIf="confirmPassword.touched && (confirmPassword.invalid || passwordMismatch)" class="error-message">
        <div *ngIf="confirmPassword.errors?.['required']">Confirm Password is required</div>
        <div *ngIf="passwordMismatch">Passwords do not match</div>
      </div>

      <ion-button
        expand="block"
        type="submit"
        [disabled]="registerForm.invalid || passwordMismatch"
        class="submit-btn"
      >
        Register
      </ion-button>
    </form>
  </div>
</ion-content>
